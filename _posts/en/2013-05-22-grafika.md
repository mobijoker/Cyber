---
id: 6
lang: en
ref: grafika
title: The graphics in the console Ubuntu
date: 2013-05-22T07:13:25+00:00
author: Arthur Gareginyan
layout: post
guid: http://mycyberuniverse.com/?p=6
permalink: /linux/grafika.html
categories:
  - Debian/Ubuntu
  - Linux
tags:
  - fbcon
  - framebuffer
  - grub
  - ubuntu
  - vesafb
  - графика

---

![thumb]()
In the version of Ubuntu 7.10 and above - framebuffer is turned off by default. To enable it we will conduct described below.

As a text editor, I use the nano, but you can use any other editor.

**1.** Open the file `/etc/modprobe.d/blacklist-framebuffer` :

```
sudo nano /etc/modprobe.d/blacklist-framebuffer
```

comment out the line:

	#blacklist vesafb

and save the file.

**2.** Open the file `/etc/initramfs-tools/modules` :

```
sudo nano /etc/initramfs-tools/modules
```

add the line:

	fbcon
	vesafb

and save the file.

**3.** Rebuild the initramfs image

```
sudo update-initramfs-u
```

**4.** Edit GRUB2

Edit the file `/etc/default/grub`

At the end of the line `GRUB_CMDLINE_LINUX_DEFAULT` add the parameter `vga=0x31b`.  Where `0x31b` - the code required resolution, which you can find in one of the two options listed below.

	GRUB_CMDLINE_LINUX_DEFAULT="splash quiet"

I changed to

	GRUB_CMDLINE_LINUX_DEFAULT="splash quiet vga=0x31b"

And if you want that  framebuffer worked in recovery mode, then change

	GRUB_CMDLINE_LINUX=""

on

	GRUB_CMDLINE_LINUX="vga= 0x31b"

You have to `GRUB_CMDLINE_LINUX=""`, in quotation marks may be other options. In such a case, simply append to the existing at the end.

**5.** Apply changes to Grub:

```
sudo update-grub
```

The table of codes permit:

<table>
	<caption>Таблица кодов разрешений:</caption>
		<tr><th></th><th>640x480</th><th>800x600</th><th>1024x768</th><th>1280x1024</th></tr>
		<tr><td>256</td><td>0x301</td><td>0x303</td><th>0x305</th><th>0x307</th></tr>
		<tr><td>32 тыс</td><td>0x310</td><td>0x313</td><th>0x316</th><th>0x319</th></tr>
		<tr><td>64 тыс</td><td>0x311</td><td>0x314</td><th>0x317</th><th>0x31a</th></tr>
		<tr><td>16 млн</td><td>0x312</td><td>0x315</td><th>0x318</th><th>0x31b</th></tr>
</table>


If you need a different resolution, then use the program `hwinfo`:

**1.** Install the program `hwinfo`

```
sudo apt-get install hwinfo
```

**2.** Run it with a key `--framebuffer`

```
sudo hwinfo --framebuffer
```

in the list that appears, select the Mode for your permission to add it to the `vga=...`, as described above, in the fourth paragraph.

It remains to reboot the computer and you can run in the console the `mplayer` or `links2` (a console browser).

Later I'll write about that, and with what parameters need to run these programs.

**P.S.**
For ATI, all the same, but in paragraphs 1 and 2 use `radeonfb` instead of `vesafb`.


